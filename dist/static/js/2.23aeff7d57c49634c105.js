webpackJsonp([2],{"Jva/":function(t,e){},R6sS:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("Dd8w"),a=n.n(i),o=n("nMML"),s=n("Cfnf"),c=n("SR0v"),r=n("AU0D"),u=n("7+uW"),d=n("NYxO"),l={name:"EditPage",components:{"x-textarea":o.a,"x-input":s.a,"x-button":c.a},data:function(){return{atIndex:!1,title:"",description:"",content:"",ToastConstructor:u.a.extend(r.a),blogId:""}},computed:a()({},Object(d.e)({user:function(t){return t.auth.user}})),created:function(){var t=this;this.blogId=this.$route.params.blogId,this.getDetail(this.blogId).then(function(e){t.title=e.data.title,t.description=e.data.description,t.content=e.data.content,t.atIndex=e.data.atIndex}).catch(function(){})},methods:a()({},Object(d.b)(["getDetail","updateBlog"]),{onUpdateBlog:function(){var t=this;this.updateBlog({blogId:this.blogId,title:this.title,description:this.description,content:this.content,atIndex:this.atIndex}).then(function(e){t.showToast("success",e.msg),t.$router.push({path:"/my/",query:{redirect:t.user.id}})}).catch(function(){})},showToast:function(t,e){var n=document.createElement("div");document.body.appendChild(n);new this.ToastConstructor({propsData:{autoClose:5,type:t,info:e,closeButton:!1}}).$mount(n)},toggleAtIndex:function(){this.atIndex=!this.atIndex}})},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"edit"}},[n("x-layout",{attrs:{"x-min-height":"100vh"}},[n("x-header"),t._v(" "),n("x-content",[n("div",{staticClass:"content-inner"},[n("h2",[t._v("编辑文章")]),t._v(" "),n("h4",[t._v("文章标题")]),t._v(" "),n("x-input",{attrs:{"x-width":"100%","auto-focus":!0},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),t._v(" "),n("p",[t._v("限 "),n("span",[t._v(t._s(t.title.length))]),t._v(" / 30 个字")]),t._v(" "),n("h4",[t._v("内容简介")]),t._v(" "),n("x-textarea",{staticClass:"description-text",attrs:{"x-width":"100%","x-height":"50px"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),t._v(" "),n("p",[t._v("限 "),n("span",[t._v(t._s(t.description.length))]),t._v(" / 60 个字")]),t._v(" "),n("h4",[t._v("文章内容")]),t._v(" "),n("x-textarea",{staticClass:"content-text",attrs:{"x-width":"100%","x-height":"200px"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),t._v(" "),n("div",{staticClass:"switch-wrapper"},[n("span",[t._v("是否展示到首页")]),n("span",{staticClass:"index-switch",class:{active:t.atIndex},on:{click:t.toggleAtIndex}})]),t._v(" "),n("x-button",{on:{click:t.onUpdateBlog}},[t._v("确定")])],1)]),t._v(" "),n("x-footer")],1)],1)},staticRenderFns:[]};var p=n("VU/8")(l,h,!1,function(t){n("kGU6")},"data-v-4f222624",null);e.default=p.exports},kGU6:function(t,e){},nMML:function(t,e,n){"use strict";var i={name:"xTextarea",props:{value:{type:String},xWidth:{type:String},xHeight:{type:String},xResize:{type:Boolean,default:!1}},computed:{xStyle:function(){var t=this.xWidth,e=this.xHeight;return this.xResize?{width:t,height:e,resize:"auto"}:{width:t,height:e,resize:"none"}}}},a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper",style:t.xStyle},[n("textarea",{style:t.xStyle,domProps:{value:t.value},on:{change:function(e){t.$emit("change",e)},input:function(e){t.$emit("input",e.target.value)},focus:function(e){t.$emit("focus",e)},blur:function(e){t.$emit("blur",e)}}})])},staticRenderFns:[]};var o=n("VU/8")(i,a,!1,function(t){n("Jva/")},"data-v-4a7b4469",null);e.a=o.exports}});
//# sourceMappingURL=2.23aeff7d57c49634c105.js.map