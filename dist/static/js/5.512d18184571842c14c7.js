webpackJsonp([5],{Co1M:function(t,n){},OpX7:function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=o("//Fk"),s=o.n(e),r=o("Dd8w"),a=o.n(r),i=o("AU0D"),u=o("Cfnf"),c=o("SR0v"),l=o("7+uW"),d=o("NYxO"),p={name:"LoginPage",components:{"x-input":u.a,"x-button":c.a},data:function(){return{ToastConstructor:l.a.extend(i.a),username:"",password:""}},computed:a()({},Object(d.e)({user:function(t){return t.auth.user},isLogin:function(t){return t.auth.isLogin}})),methods:a()({},Object(d.b)(["login"]),{onLogin:function(){var t=this;this.formValidator().then(function(){t.login({username:t.username,password:t.password}).then(function(n){t.showToast("success",n.msg),t.$router.push({path:t.$route.query.redirect||"/"})}).catch(function(n){"fail"===n.status&&t.showToast("error",n.msg)})},function(){})},onPushToRegister:function(){this.$router.push({path:"/register"})},formValidator:function(){var t=this;return new s.a(function(n,o){/^[\w\u4e00-\u9fa5]{1,15}$/.test(t.username)?/^.{6,16}$/.test(t.password)||(t.showToast("error","密码为长度6到16的字符"),o()):(t.showToast("error","用户名为长度1到15的字符，只能是字母、数字、下划线或汉字"),o()),n()})},showToast:function(t,n){var o=document.createElement("div");document.body.appendChild(o);new this.ToastConstructor({propsData:{autoClose:3,type:t,info:n,closeButton:!1}}).$mount(o)}})},f={render:function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("div",{attrs:{id:"login"}},[o("x-layout",{attrs:{"x-min-height":"100vh"}},[o("x-header",{attrs:{"tips-txt":"login"}}),t._v(" "),o("x-content",{staticClass:"x-content"},[o("div",{staticClass:"content-inner"},[o("div",{staticClass:"form-row"},[o("p",[t._v("用户名")]),t._v(" "),o("x-input",{staticClass:"x-input",attrs:{"auto-focus":!0},model:{value:t.username,callback:function(n){t.username=n},expression:"username"}})],1),t._v(" "),o("div",{staticClass:"form-row"},[o("p",[t._v("密码")]),t._v(" "),o("x-input",{staticClass:"x-input",nativeOn:{keyup:function(n){return"button"in n||!t._k(n.keyCode,"enter",13,n.key,"Enter")?t.onLogin(n):null}},model:{value:t.password,callback:function(n){t.password=n},expression:"password"}})],1),t._v(" "),o("div",{staticClass:"form-row"},[o("x-button",{on:{click:t.onLogin}},[t._v("立即登录")])],1),t._v(" "),o("p",[t._v("没有账号?"),o("span",{on:{click:t.onPushToRegister}},[t._v("立即注册")])])])]),t._v(" "),o("x-footer")],1)],1)},staticRenderFns:[]};var v=o("VU/8")(p,f,!1,function(t){o("Co1M")},"data-v-63e90eb8",null);n.default=v.exports}});
//# sourceMappingURL=5.512d18184571842c14c7.js.map